<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.fansfunding.user.dao.UserDao" >
  <resultMap id="BaseResultMap" type="User" >
  	<result column="id" property="id" jdbcType="INTEGER" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="nickname" property="nickname" jdbcType="VARCHAR" />
    <result column="password" property="password" jdbcType="VARCHAR" />
    <result column="phone" property="phone" jdbcType="VARCHAR" />
    <result column="is_red" property="is_red" jdbcType="INTEGER" />
    <result column="head" property="head" jdbcType="VARCHAR" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="create_by" property="create_by" jdbcType="VARCHAR" />
    <result column="create_time" property="create_time" jdbcType="DATE" />
    <result column="update_by" property="update_by" jdbcType="VARCHAR" />
    <result column="update_time" property="update_time" jdbcType="DATE" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
    <result column="del_flag" property="del_flag" jdbcType="CHAR" />
    <result column="IMEI" property="IMEI" jdbcType="VARCHAR" />
    <result column="token" property="token" jdbcType="VARCHAR" />
    <result column="token_wx" property="token_wx" jdbcType="VARCHAR" />
    <result column="token_wb" property="token_wb" jdbcType="VARCHAR" />
    <result column="token_qq" property="token_qq" jdbcType="VARCHAR" />
    <result column="id_wx" property="id_wx" jdbcType="VARCHAR" />
    <result column="id_wb" property="id_wb" jdbcType="VARCHAR" />
    <result column="id_qq" property="id_qq" jdbcType="VARCHAR" />
  </resultMap>
  
  <select id="selectAll" resultMap="BaseResultMap" >
    select id,name,phone,nickname,email,IMEI,token,password
    from user
  </select>
  
  <select id="selectById" resultMap="BaseResultMap" parameterType="int">
    select id,name,phone,nickname,email,IMEI,token,password
    from user where id = #{id}
  </select>
  
  <select id="selectByName" resultMap="BaseResultMap" parameterType="string">
    select id,name,phone,nickname,email,IMEI,token,password
    from user where name = #{name}
  </select>
  
  <select id="selectByPhone" resultMap="BaseResultMap" parameterType="string">
    select id,name,phone,nickname,email,IMEI,token,password
    from user where phone = #{phone}
  </select>
  
  <insert id="insertNewUser" useGeneratedKeys="true" keyProperty="id" parameterType="com.fansfunding.user.entity.User">
  	insert into user(name,nickname,password,phone,is_red,head,create_by,create_time,update_by,update_time,remark,del_flag,IMEI,token)
  		values(#{name},#{nickname},#{password},#{phone},#{is_red},#{head},#{create_by},#{create_time},#{update_by},#{update_time},#{remark},#{del_flag},#{IMEI},#{token})
  </insert>
  
  <update id="updateToken" parameterType="com.fansfunding.user.entity.User">
  	update user
  	set token = #{token}
  	where id = #{id}
  </update>
  <update id="updatePwd" parameterType="com.fansfunding.user.entity.User">
    update user
  	set password = #{password}
  	where id = #{id}
  </update>
  <update id="updateHead" parameterType="com.fansfunding.user.entity.User">
    update user
  	set head = #{head}
  	where id = #{id}
  </update>
  
</mapper>